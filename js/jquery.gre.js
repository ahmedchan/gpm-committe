!function(u){var e;void 0===u.fn.gre&&(e={content_css_url:"../css/style.css",height:150},u.fn.gre=function(t){u.fn.gre.html=function(t){return t.contentWindow.document.getElementsByTagName("body")[0].innerHTML};var l=u.extend(e,t);return this.each(function(){var i,n=u(this),s=n.prop("id");function o(){var t=n.val();if(""===u.trim(t)&&(t=""),i)return n.hide(),u(i).contents().find("body").html(t),u(i).show(),u("#toolbar-"+s).remove(),n.before(a()),1;(i=document.createElement("iframe")).setAttribute("txtVal",t),i.frameBorder=0,i.frameMargin=0,i.framePadding=0,i.height=l.height,n.prop("class")&&(i.className=n.prop("class")),n.prop("id")&&(i.id=s),n.prop("name")&&(i.title=n.prop("name")),n.after(i);var e="";!function t(e,n){if(!i)return!1;i.contentWindow.document.open();i.contentWindow.document.write(e);i.contentWindow.document.close();{if(document.contentEditable)return i.contentWindow.document.designMode="On",n(),!0;if(null!==document.designMode)return i.contentWindow.document.designMode="on",n(),!0}setTimeout(function(){t(e,n)},500);return!1}("<!doctype html><html><head>"+(e=l.content_css_url?"<link rel='stylesheet' href='"+l.content_css_url+"'>":e)+'</head><body class="frameBody">'+t+"</body></html>",function(){u("#toolbar-"+s).remove(),n.before(a()),n.hide()})}function r(t){var e=u(i).contents().find("body").html();u(i).is(":visible")&&n.val(e),!0!==t&&(n.show(),u(i).hide())}function a(){var e=u("\t\t\t\t\t\t<div class='gre-toolbar' id='toolbar-"+s+"'>\t\t\t\t\t\t\t<select>\t\t\t\t\t\t\t\t<option value=''>Block style</option>\t\t\t\t\t\t\t\t<option value='p'>Paragraph</option>\t\t\t\t\t\t\t\t<option value='h3'>Title</option>\t\t\t\t\t\t\t\t<option value='address'>Address</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t<a href='#' class='bold'><i class='fa fa-bold'></i></a>\t\t\t\t\t\t\t<a href='#' class='italic'><i class='fa fa-italic'></i></a>\t\t\t\t\t\t\t<a href='#' class='underline'><i class='fa fa-underline'></i></a>\t\t\t\t\t\t\t<a href='#' class='strikeThrough'><i class='fa fa-strikethrough'></i></a>\t\t\t\t\t\t\t<a href='#' class='superscript'><i class='fa fa-superscript'></i></a>\t\t\t\t\t\t\t<a href='#' class='subscript'><i class='fa fa-subscript'></i></a>\t\t\t\t\t\t\t<a href='#' class='unorderedlist'><i class='fa fa-list-ul'></i></a>\t\t\t\t\t\t\t<a href='#' class='orderedlist'><i class='fa fa-list-ol'></i></a>\t\t\t\t\t\t\t<a href='#' class='justifyLeft'><i class='fa fa-align-left'></i></a>\t\t\t\t\t\t\t<a href='#' class='justifyCenter'><i class='fa fa-align-center'></i></a>\t\t\t\t\t\t\t<a href='#' class='justifyRight'><i class='fa fa-align-right'></i></a>\t\t\t\t\t\t\t<a href='#' class='justifyFull'><i class='fa fa-align-justify'></i></a>\t\t\t\t\t\t\t<a href='#' class='insertHorizontalRule'><i class='fa fa-minus'></i></a>\t\t\t\t\t\t\t<a href='#' class='disable'><i class='fas fa-times'></i></a>\t\t\t\t\t\t</div>\t\t\t\t\t");u("select",e).change(function(){var t=this.selectedIndex;0!==t&&c("formatblock","<"+this.options[t].value+">")}),u(".bold",e).click(function(){return c("bold"),!1}),u(".italic",e).click(function(){return c("italic"),!1}),u(".underline",e).click(function(){return c("underline"),!1}),u(".strikeThrough",e).click(function(){return c("strikeThrough"),!1}),u(".superscript",e).click(function(){return c("superscript"),!1}),u(".subscript",e).click(function(){return c("subscript"),!1}),u(".unorderedlist",e).click(function(){return c("insertunorderedlist"),!1}),u(".orderedlist",e).click(function(){return c("insertorderedlist"),!1}),u(".justifyLeft",e).click(function(){return c("justifyLeft"),!1}),u(".justifyCenter",e).click(function(){return c("justifyCenter"),!1}),u(".justifyRight",e).click(function(){return c("justifyRight"),!1}),u(".justifyFull",e).click(function(){return c("justifyFull"),!1}),u(".insertHorizontalRule",e).click(function(){return c("insertHorizontalRule"),!1}),u(".disable",e).click(function(){r();var t=u('<small><a class="gre-minilink" href="#"><i class="fa fa-bars"></i></a></small>');return e.empty().append(t),t.click(function(t){t.preventDefault(),o(),u(this).remove()}),!1}),u(i).parents("form").submit(function(){r(!0)});var t=u(i.contentWindow.document),n=u("select",e)[0];return t.mouseup(function(){return function(t,e){for(;t.parentNode;){for(var n=t.nodeName.toLowerCase(),i=0;i<e.options.length;i++)if(n==e.options[i].value)return e.selectedIndex=i;t=t.parentNode}e.selectedIndex=0}(function(){var t,e;e=i.contentWindow.document.selection?(t=i.contentWindow.document.selection,e=t.createRange(),e.parentElement()):(t=i.contentWindow.getSelection(),e=t.getRangeAt(0),e.commonAncestorContainer);return e}(),n),!0}),e}function c(t,e){i.contentWindow.focus(),i.contentWindow.document.execCommand(t,!1,e);e=i.contentWindow.document.body.innerHTML;e=(e=e.replace(/<span\s*(class="Apple-style-span")?\s*style="font-weight:\s*bold;">([^<]*)<\/span>/gi,"<strong>$2</strong>")).replace(/<span\s*(class="Apple-style-span")?\s*style="font-style:\s*italic;">([^<]*)<\/span>/gi,"<em>$2</em>"),i.contentWindow.document.body.innerHTML=e,i.contentWindow.focus()}o()})})}(jQuery);